# å¿«é€Ÿå¼€å§‹

é¦–å…ˆéœ€è¦å‡†å¤‡ä»¥ä¸‹ä¿¡æ¯ï¼š

* Telegram çš„api\_id ã€api\_hash [èŽ·å–åœ°å€](https://my.telegram.org/apps) ä¸ä¼šè¯·Googleã€‚(éƒ¨åˆ†TGè´¦å·å·²è¢«æ‹‰é»‘ï¼Œæ— æ³•æ­£å¸¸ä½¿ç”¨ï¼Œå°è¯•æ›´æ¢ä»£ç†IPï¼ŒIPå¹²å‡€æˆåŠŸçŽ‡é«˜ï¼Œç”¨æœºåœºèŠ‚ç‚¹å°±è‡ªæ±‚å¤šç¦å§ðŸ™ƒ)
*   åŽ» [@BotFather](https://t.me/BotFather) é‚£é‡Œåˆ›å»ºä¸€ä¸ªæœºå™¨äººï¼ŒèŽ·å¾—è¯¥æœºå™¨äººçš„bot\_tokenï¼Œåº”å½¢å¦‚ï¼š

    bot\_token = "123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11"

    è¿™æ­¥ä¸ä¼šè¯·Googleã€‚

## æ‹‰å–æºç 

æ–¹æ³•1ï¼šç›´æŽ¥ä¸‹è½½ã€‚

```
ä½ å¯ä»¥åœ¨ [ä¸‹è½½é¡µé¢](https://github.com/AirportR/FullTclash/releases) æ‰¾åˆ°ä¸€äº›ç‰ˆæœ¬çš„æºä»£ç ã€‚
```

æ–¹æ³•2ï¼šä½¿ç”¨gitï¼ˆLinuxæŽ¨èï¼Œæ–¹ä¾¿æ›´æ–°ï¼‰ï¼Œé¦–å…ˆå®‰è£…gitï¼Œç„¶åŽæ‹‰å–ä»“åº“ã€‚ä»¥ä¸‹æŒ‡ä»¤ä¸º Ubuntu å‘è¡Œç‰ˆä½œç¤ºä¾‹ï¼ŒWindowsè‡ªè¡Œè§£å†³ã€‚

```shell
apt install -y git && git clone https://github.com/AirportR/FullTclash.git && cd FullTclash
```

æ­¤æ–¹æ³•åœ¨ä¸­å›½å¤§é™†å¯èƒ½éœ€è¦ä»£ç†åŠ é€Ÿï¼Œè¯·è‡ªè¡Œè§£å†³ã€‚

## çŽ¯å¢ƒå‡†å¤‡

* Python 3.9 ä»¥ä¸Š(3.12æš‚æ—¶ä¸æŽ¨è)
* ä»¥åŠå„ç§ç›¸å…³åŒ…ä¾èµ–

æ‚¨å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œåœ¨å½“å‰é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œä»¥å¿«é€Ÿå®‰è£…çŽ¯å¢ƒï¼š

> Windows:
>
> ```shell
> pip install -r requirements.txt
> ```

> Linux:
>
> ```shell
> pip3 install -r requirements.txt
> ```

#### ä¸ºbotè¿›è¡Œç›¸å…³é…ç½®

ä»¥ä¸‹ä¸ºå¯åŠ¨botçš„æœ€ä½Žè¦æ±‚ï¼ˆå¦‚æžœæ‚¨æ˜¯æ–°æ‰‹ï¼Œå»ºè®®å…ˆä»¥æœ€ä½Žè¦æ±‚æŠŠbotè·‘èµ·æ¥ï¼Œå¦åˆ™è‡ªå·±ä¹±æ”¹é…ç½®å®¹æ˜“å‡ºçŽ°ä¸å¯é¢„çŸ¥çš„é”™è¯¯ã€‚ï¼‰

*   ç®¡ç†å‘˜é…ç½®

    æ–°å»ºä¸€ä¸ªåä¸ºconfig.yamlçš„æ–‡ä»¶ï¼Œæ”¾åœ¨./resourcesä¸‹ï¼Œé¡¹ç›®æœ‰æ¨¡æ¿ä¾‹å­åä¸º./resources/config.yaml.example,åœ¨config.yamlä¸­å†™å…¥å¦‚ä¸‹ä¿¡æ¯ï¼š

    ```yaml
    admin:
    - 12345678 # æ”¹æˆè‡ªå·±çš„telegram uid
    - 8765431 # è¿™æ˜¯ç¬¬äºŒè¡Œï¼Œè¡¨ç¤ºç¬¬äºŒä¸ªç®¡ç†å‘˜ï¼Œæ²¡æœ‰ç¬¬äºŒä¸ªç®¡ç†å‘˜å°±æŠŠè¯¥è¡Œåˆ é™¤ã€‚
    ```
*   botç›¸å…³é…ç½®

    ```yaml
    bot:
     api_id: 123456 #æ”¹æˆè‡ªå·±çš„api_id
     api_hash: 123456ABCDefg #æ”¹æˆè‡ªå·±çš„api_hash
     bot_token: 123456:ABCDefgh123455  # bot_token, ä»Ž @BotFather èŽ·å–
     # å¦‚æžœæ˜¯åœ¨ä¸­å›½å¤§é™†åœ°åŒºä½¿ç”¨ï¼Œåˆ™ç¨‹åºéœ€è¦ä»£ç†æ‰èƒ½è¿žæŽ¥ä¸ŠTelegramæœåŠ¡å™¨ã€‚å†™å…¥å¦‚ä¸‹ä¿¡æ¯ï¼š
     proxy: 127.0.0.1:7890 #socks5 æ›¿æ¢æˆè‡ªå·±çš„ä»£ç†åœ°å€å’Œç«¯å£
    ```
* ä»£ç†å®¢æˆ·ç«¯è·¯å¾„é…ç½®

ä»Ž3.6.8å¼€å§‹ï¼Œåˆæ¬¡å¯åŠ¨å°†è‡ªåŠ¨ä¸‹è½½ä»¥ä¸‹(Windows,MacOS,Linux)(x86\_64,arm64)çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ— éœ€é…ç½®ã€‚

å½“ç„¶å¦‚æžœæ‚¨æƒ³æ‰‹åŠ¨ä¸‹è½½ï¼Œ è¯·è‡ªè¡Œå‰å¾€ä»¥ä¸‹ç½‘å€èŽ·å–: [https://github.com/AirportR/FullTCore/releases](https://github.com/AirportR/FullTCore/releases)\
ä¸‹è½½è§£åŽ‹åŽå¯ä»¥æ”¾åˆ° ./bin/ ç›®å½•ä¸‹ï¼Œæ¯”å¦‚æ–‡ä»¶åä¸º FullTCore ï¼Œä¸‹é¢çš„é…ç½®æ–‡ä»¶è¿™æ ·å†™ï¼š

```yaml
clash:
 path: "./bin/FullTCore" #è¿™é‡Œæ”¹æˆä»£ç†å®¢æˆ·ç«¯æ–‡ä»¶è·¯å¾„
```

Windowsç³»ç»Ÿåå­—åŽç¼€å.exeè¦åŠ ä¸Šï¼Œå…¶ä»–ç±»Unixç³»ç»Ÿä¸éœ€è¦åŠ åŽç¼€åã€‚

#### èŽ·å–sessionæ–‡ä»¶ï¼ˆå¯é€‰ï¼‰

æ‚¨éœ€è¦åœ¨é¡¹ç›®æ–‡ä»¶ç›®å½•ä¸‹ï¼Œæ”¾ç½®ä¸€ä¸ªå·²ç»ç™»é™†å¥½çš„.sessionåŽç¼€æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯ç¨‹åºç”Ÿæˆçš„ï¼Œå½¢å¦‚ï¼š my\_bot.session

> æ–¹æ³•1ï¼šå¯ä»¥ç›´æŽ¥åœ¨é…ç½®æ–‡ä»¶config.yamlä¸­é…ç½®ï¼Œè¿™æ ·ç¨‹åºå¯åŠ¨åŽä¼šè‡ªåŠ¨è¯»å–é…ç½®æ–‡ä»¶é‡Œé¢çš„å€¼æ¥ç”Ÿæˆsessionæ–‡ä»¶(è¦æ±‚ä¸€å®šè¦æ­£ç¡®)ã€‚

```yaml
#é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼Œæ³¨æ„ç¼©è¿›è¦æ­£ç¡®
bot:
 api_id: 123456
 api_hash: 123456ABCDefg
 bot_token: 123456:ABCDefgh123455
```

> æ–¹æ³•2ï¼š æ‚¨å¯ä»¥å‚é˜…[è¿™ç¯‡æ–‡æ¡£](https://docs.pyrogram.org/start/auth)ï¼Œä»¥å¿«é€ŸèŽ·å¾—åŽç¼€ä¸º .session çš„æ–‡ä»¶

> æ–¹æ³•3ï¼š é¡¹ç›®çš„ ./utils/tool/ ç›®å½•ä¸‹æœ‰ä¸€ä¸ªæ–‡ä»¶åä¸º login.py ï¼Œå¯ä»¥é€šè¿‡æŒ‡ä»¤è¿è¡Œå®ƒï¼š
>
> ```
> python .\login.py
> ```

å½“ç¨‹åºé€€å‡ºåŽå³å¯è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåä¸º my\_bot.session çš„æ–‡ä»¶ ï¼Œä¹‹åŽå°†å®ƒç§»åŠ¨åˆ°é¡¹ç›®æ ¹ç›®å½•ã€‚ è¿è¡ŒåŽå®ƒä¼šå°è¯•ç»™ä½ è¾“å…¥çš„ç”¨æˆ·åçš„ç›®æ ‡å‘é€æ¶ˆæ¯ï¼Œå½“æŽ¥æ”¶åˆ°ï¼šå—¨, æˆ‘åœ¨æ­£å¸¸å·¥ä½œå“¦ï¼

è¿™å¥è¯æ—¶ï¼Œå³å¯è¯´æ˜Žè¯¥sessionæ–‡ä»¶æœ‰æ•ˆï¼Œå¦åˆ™æ— æ•ˆã€‚

å¦‚æžœå¯åŠ¨åŽæ— æ³•éªŒè¯ï¼Œè¯·åˆ é™¤ç”Ÿæˆçš„mybot.sessionæ–‡ä»¶ï¼Œæ­¤æ—¶çš„æ–‡ä»¶æ˜¯åçš„ï¼Œä¸å¯ç”¨ï¼Œå¦‚æžœä¸åˆ é™¤ç¨‹åºä¼šä¸€ç›´ä½¿ç”¨åçš„æ–‡ä»¶ï¼Œä¸ä¼šé‡æ–°ç”Ÿæˆã€‚

#### å¼€å§‹å¯åŠ¨

é…ç½®å¥½åŽï¼Œåœ¨é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹æŒ‡ä»¤

> Windows:
>
> ```shell
> python main.py
> ```

> Ubuntu(Linux):
>
> ```shell
> python3 main.py
> ```

ç­‰å¾…åˆå§‹åŒ–æ“ä½œï¼Œå‡ºçŽ°â€œç¨‹åºå·²å¯åŠ¨!â€å­—æ ·å°±è¯´æ˜Žåœ¨è¿è¡Œäº†ã€‚ è¿è¡Œä¹‹åŽå’Œbotç§èŠæŒ‡ä»¤ï¼š

> /testurl <è®¢é˜…åœ°å€>(clashé…ç½®æ ¼å¼)å³å¯å¼€å§‹æµ‹è¯•

> /help å¯æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤è¯´æ˜Ž

æ›´å¤šç”¨æ³•è¯·æŸ¥é˜…æ–‡æ¡£ã€‚

#### ä»£ç†å®¢æˆ·ç«¯ç¼–è¯‘(é«˜çº§)

FullTClashæœ‰ä¸“ç”¨çš„ä»£ç†å®¢æˆ·ç«¯ï¼Œå­˜æ”¾åœ¨ ./bin/ä¸‹ã€‚åˆæ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨å¸®æ‚¨ä¸‹è½½ï¼ˆä»…é™winã€linuxã€darwinï¼‰å¯¹åº”å¹³å°çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚

æ–‡ä»¶çš„åŽ‹ç¼©åŒ…æ ¼å¼ä¸º: **FullTCore\_{ç‰ˆæœ¬å·}\_{å¹³å°}\_{CPUæž¶æž„}.{åŽ‹ç¼©åŒ…åŽç¼€}**

æ²¡æœ‰æ‰€ç”¨æž¶æž„ï¼Ÿ å¦‚æžœå‘çŽ°æ²¡æœ‰è‡ªåŠ¨ä¸‹è½½ï¼Œè¯´æ˜Žæ²¡æœ‰åœ¨ä»“åº“ä¸­æ‰¾åˆ°æ‚¨æ‰€ç”¨æž¶æž„çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ¯”å¦‚mipsæž¶æž„ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦è‡ªè¡Œç¼–è¯‘ã€‚

åœ¨ [æ­¤ä»“åº“](https://github.com/AirportR/FullTCore) ä¸‹æœ‰ä¸€æºç æ–‡ä»¶ä¸º fulltclash.go ï¼Œæ‚¨éœ€è¦å°†è¯¥æ–‡ä»¶è‡ªè¡Œç”¨Golangç¼–è¯‘å™¨ç¼–è¯‘æˆäºŒè¿›åˆ¶æ–‡ä»¶ã€‚

ç¼–è¯‘å®Œæˆè¦†ç›–åŽŸæ–‡ä»¶å³å¯ ï¼Œå¦‚æžœæ“ä½œéš¾åº¦å¤ªå¤§ï¼Œå¯ä»¥å‘èµ·issueè¯¦è°ˆã€‚

#### Dockerå¯åŠ¨

æŸ¥çœ‹é¡¹ç›®æ ¹ç›®å½•çš„ ./docker/ ç›®å½• ï¼Œæœ‰æž„å»ºdockeré•œåƒçš„æ–‡ä»¶ã€‚

#### æŒä¹…åŒ–è¿è¡Œ

æ‚¨å¯ä»¥ç”¨ systemd , screen, pm2 ç­‰å®ˆæŠ¤è¿›ç¨‹çš„è§£å†³æ–¹æ¡ˆæŒä¹…åŒ–è¿è¡Œã€‚

### äº¤æµæŽ¢è®¨

æˆ‘ä»¬æ¬¢è¿Žå„æ–¹æœ‹å‹æå‡ºé’ˆå¯¹æ€§çš„åé¦ˆï¼š

* [TGæ›´æ–°å‘å¸ƒé¢‘é“](https://t.me/FullTClash)
* åœ¨é¡¹ç›®é¡µé¢æå‡ºissue

### è‡´è°¢

* [æµåª’ä½“è§£é”æ£€æµ‹æ€è·¯](https://github.com/lmc999/RegionRestrictionCheck)
* [Clash](https://github.com/Dreamacro/clash) ==> [mihomo](https://github.com/MetaCubeX/mihomo) \[GPLv3]
* [aiohttp](https://github.com/aio-libs/aiohttp) \[Apache2]
* [pyrogram](https://github.com/pyrogram/pyrogram) \[LGPLv3]
* [async-timeout](https://github.com/aio-libs/async-timeout) \[Apache2]
* [Pillow](https://github.com/python-pillow/Pillow) \[HPND]
* [pilmoji](https://github.com/jay3332/pilmoji) \[MIT]
* [pyyaml](https://github.com/yaml/pyyaml) \[MIT]
* [APScheduler](https://github.com/agronholm/apscheduler) \[MIT]
* [loguru](https://github.com/Delgan/loguru) \[MIT]
* [geoip2](https://github.com/maxmind/GeoIP2-python) \[Apache2]
* [cryptography](https://github.com/pyca/cryptography) \[Apache2] \[BSD3]
* [google-re2](https://github.com/google/re2) \[BSD3]
* [aiohttp\_socks](https://github.com/romis2012/aiohttp-socks) \[Apache2]
