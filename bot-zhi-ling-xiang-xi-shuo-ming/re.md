---
description: re 是 repeat 的缩写
---

# /re

### 解释

✨Premium版本专属

快速发起一次测试。本次测试会沿用上一次你测试选择的所有规则（测试类型、排序、过滤器等），re指令非常方便，用的好可以提高测试效率。

### 参数

re指令有三个参数或者没有参数：

```
/re <参数1> <包含过滤器:可选> <排除过滤器:可选>
```

无参数时：

无参数的情况下，会完全复刻上一次测试的所有选择策略。

```
/re
```

以下将重点讲解 <参数1> ，参数1比较复杂，参数1是让你方便地**覆写**上一次某条选择策略的，有多种意思，可分为测试类型、排序方法、后端id、规则名、甚至是一个订阅地址或者订阅名称。因此就有以下re指令变种：

* 测试类型

```
/re <测试类型> <包含过滤器:可选> <排除过滤器:可选>
```

FullTclash有三种固定的测试类型， 可以将括号以下的值填入参数1的位置: &#x20;

其中 test,testurl为连通性测试，填这两个中的一个都是测连通

topo,topourl,analyze,analyzeurl为拓扑测试，填这四个中的一个都是测试拓扑

speed,speeurl为速度测试，填这两个中的一个都是速度测试

```
["test", "testurl", "analyze", "topo", "analyzeurl", "topourl", "speed", "speedurl"]
```

例子:

比如你之前测的是连通性，想接下来测拓扑，那么可以这样：

```
/re topo
```

* 覆写排序

```
/re <排序关键字> <包含过滤器:可选> <排除过滤器:可选>
```

<排序关键字> 有以下选择：

双引号内的字符串都支持。甚至可以大小写混用。

```
{
    "origin": "订阅原序",
    "rhttp": "HTTP降序",
    "http": "HTTP升序",
    "aspeed": "平均速度升序",
    "arspeed": "平均速度降序",
    "mspeed": "最大速度升序",
    "mrspeed": "最大速度降序",
    "ori": "HTTP倒序",
    "ars": "平均速度倒序",
    "mrs": "最大速度倒序",
}
```

也支持解析 "sort=" 的前缀进行排序选择，比如:

```
/re sort=HTTP升序
```

* 后端id

后端id在哪里找？

配置文件中的 slaveconfig下的所有key（键），就是后端id,比如后端id为 GDCU：

```
/re GDCU 
```

也支持解析 "slaveid=" 的前缀进行后端选择:

```
/re slaveid=GDCU
```

* 规则名

没错，re指令可以直接改变上次的测试规则，你只需要写上规则名即可。关于规则的使用，可以用 /setting指令进入规则管理，创建一条测试规则。

假设你有一个规则名名为 "test\_rule"(不可以是test，topo这些哈，这些已经被内定了)

那么可以这样：

```
/re test_rule
```

也支持解析 "rule=" 的前缀进行规则选择:

```
/re rule=test_rule
```

* 订阅名

你也可以把上一次的所执行的策略，用在一个新的订阅上。

比如你通过 /new 添加一个订阅名为 google，那么可以这样：

```
/re google
```

* 订阅链接

同理，你甚至可以直接对一个新的订阅链接应用同样的规则：

```
/re https://www.google.com
```

* 兜底情况

如果bot都没有匹配上以上所有的情况，那么还有一种使用场景，那就是过滤器覆写。这个时候，<参数1>无实际意义，仅作占位符。

使用场景：假设你还想测试上一次的订阅，但是改变过滤器，比如原先测试的香港节点，这次想测美国节点，那么可以这样写:

```
/re 无意义的 香港
```

第一个位置参数没有意义。

如果有意义，也就是除兜底之外的情况，那也是可以覆写过滤器的。人话就是，<包含过滤器> <排除过滤器> 如果有，都会覆写而生效。但是 <参数1>  **只会从上往下匹配生效一次** 。

情况匹配的顺序是：&#x20;

测试类型 > 排序字符串 > 规则名 > 后端id > 订阅名称 > 订阅地址 > 兜底
